{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Create Report | CalmConnect</title>
  <link rel="icon" type="image/x-icon" href="{% static 'mentalhealth/img/favicon.png' %}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/boxicons/2.1.4/css/boxicons.min.css" />
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      min-height: 100vh;
      color: #2c3e50;
      margin: 0;
    }
    .container {
      max-width: 600px;
      margin: 3rem auto;
      background: #fff;
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(44, 62, 80, 0.08);
      padding: 2.5rem 2rem 2rem 2rem;
    }
    .header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .header i {
      font-size: 2.5rem;
      color: #2ecc71;
    }
    .header h2 {
      font-size: 2rem;
      font-weight: 700;
      margin: 0;
    }
    .meta {
      margin-bottom: 1.5rem;
      color: #666;
      font-size: 1rem;
    }
    .form-section {
      margin-bottom: 1.5rem;
    }
    .form-group {
      margin-bottom: 1.2rem;
    }
    label {
      font-weight: 600;
      color: #34495e;
      display: block;
      margin-bottom: 0.4rem;
    }
    input[type="text"], textarea, select {
      width: 100%;
      padding: 0.7rem 1rem;
      border: 1px solid #e9ecef;
      border-radius: 8px;
      font-size: 1rem;
      background: #f8f9fa;
      color: #2c3e50;
      transition: border 0.2s;
    }
    input[type="text"]:focus, textarea:focus, select:focus {
      border-color: #2ecc71;
      outline: none;
    }
    textarea {
      min-height: 120px;
      resize: vertical;
    }
    .actions {
      display: flex;
      gap: 1rem;
      margin-top: 2rem;
    }
    .btn {
      padding: 0.8rem 2rem;
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .btn-primary {
      background: linear-gradient(135deg, #2ecc71, #27ae60);
      color: #fff;
    }
    .btn-primary:hover {
      background: linear-gradient(135deg, #27ae60, #229954);
    }
    .btn-secondary {
      background: #e9ecef;
      color: #2c3e50;
    }
    .btn-secondary:hover {
      background: #d6dbdf;
    }
    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      color: #3498db;
      text-decoration: none;
      font-weight: 500;
      margin-bottom: 1.5rem;
      transition: color 0.2s;
    }
    .back-link:hover {
      color: #2ecc71;
    }
    .prefill-info {
      background: #f8f9fa;
      border-left: 4px solid #2ecc71;
      padding: 1rem 1.2rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
      color: #2c3e50;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="{% url 'counselor_reports' %}" class="back-link"><i class="bx bx-arrow-back"></i> Back to Reports</a>
    <div class="header">
      <i class="bx bxs-file-doc"></i>
      <h2>Create New Report</h2>
    </div>
    {% if appointment %}
      <div class="prefill-info">
        <strong>Session:</strong> {{ appointment.date }} at {{ appointment.time|time:'g:i A' }}<br>
        <strong>Student:</strong> {{ appointment.user.full_name }} ({{ appointment.user.student_id }})<br>
        <strong>Reason:</strong> {{ appointment.reason|default:'N/A' }}
      </div>
    {% endif %}
    <form method="post" autocomplete="off">
      {% csrf_token %}
      {{ form.user }}
      {{ form.appointment }}
      <div class="form-section">
        <div class="form-group">
          <label for="id_title"><i class="bx bxs-edit"></i> Report Title</label>
          {{ form.title }}
        </div>
        <div class="form-group">
          <label for="id_description"><i class="bx bxs-note"></i> Report Description</label>
          {{ form.description }}
        </div>
        <div class="form-group">
          <label for="id_report_type"><i class="bx bxs-category"></i> Report Type</label>
          {{ form.report_type }}
        </div>
      </div>
      <div class="actions">
        <button type="submit" class="btn btn-primary"><i class="bx bxs-save"></i> Create Report</button>
        <a href="{% url 'counselor_reports' %}" class="btn btn-secondary"><i class="bx bx-x"></i> Cancel</a>
      </div>
    </form>
  </div>
</body>
</html> 